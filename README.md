# sferum-bot от [@xKARASb](https://github.com/xKARASb)

## Работает на

- [Python 3.13](https://docs.python.org/3.13/)+

## Использованные технологии:

- [Asyncio](https://docs.python.org/3/library/asyncio.html)
- [Aiogram 3.x](https://docs.aiogram.dev/en/latest/)

## Возможности:

- [x] Пересылать текстовые сообщения в telegram.
- [x] Пересылать медиа в telegram (ограничиваясь лимитами telegram).
- [x] Можно получать сообщения из нескольких чатов.
- [x] Отправка пересланных сообщений с медиа.
- [ ] Поддержка каналов.

## Как пользоваться?

### 1. Клонируем репозиторий:

``` sh
git clone https://github.com/xKARASb/SferumBot.git
cd SferumBot
```

### 2. Скопируйте `.env.dist` и переименуйте его в `.env`.

### 3. Заполняем поля в `.env`:

<table>
    <tr>
        <td><code>AUTH_COOKIE</code></td>
        <td>
            <p>
                <a href="https://github.com/xKARASb/SferumBot/issues/9">Инструкция для <code>Microsoft Edge</code></a>
            </p>
            <p>
                Зайдите в <a href="https://web.vk.me/">Sferum</a>.
            </p>
            <p>
                Нажмите <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>, после чего откроются параметры для разработчиков.
            </p>
            <p>
                Перейдите в раздел <code>Application</code> (Приложение) >> <code>Storage</code> (Хранилище) >> <code>Cookies</code> (Файлы cookie) >> <code>https://web.vk.me/</code>.
            </p>
            <p>
                Затем введите в поле поиска "remixdsid" и скопируйте его значение (должно начинаться с "vk1.a.").
            </p>
            <p>
                Заполните поле в <code>.env.dist</code>.
            </p>
        </td>
    </tr>
    <tr>
        <td><code>BOT_TOKEN</code></td>
        <td>
            <p>
                Перейдите в <a href="https://t.me/BotFather">@BotFather</a>.
            </p>
            <p>
                Введите команду <code>/newbot</code>, а затем укажите название и юзернейм для бота (отдельными сообщениями).
            </p>
            <p>
                Скопируйте токен и вставьте его в <code>.env.dist</code>.
            </p>
        </td>
    </tr>
    <tr>
        <td><code>TG_CHAT_ID</code></td>
        <td>
            <p>
                Можно оставить пустым, если не собираетесь использовать бота в группе/канале.
            </p>
            <p>
                В настройках Telegram включите отображения id: `Настройки` > `Продвинутые настройки` > `Эксперементальные настройки` > `Show Peer IDs in profile`.
            </p>
            <p>
                Получите id чата и вставьте его в поле.
            </p>
            <p>
                <blockquote>Дайте боту права администратора в группе/канале.</blockquote>
            </p>
            <p>
                <blockquote>Чтобы пересылать сообщения в один из разделов супергруппы вы можете указать его id в <code>TG_TOPIC_ID</code>.</blockquote>
            </p>
        </td>
    </tr>
    <tr>
        <td><code>VK_CHAT_IDS</code></td>
        <td>
            <p>
                <blockquote>Если вы хотите получать уведомления из всех чатов, просто оставьте поле пустым.</blockquote>
            </p>
            <p>
                Получите id чата, открыв его в браузере:
            </p>
            <p>
                <code>https://web.vk.me/convo/{здесь нужный нам id}</code>
            </p>
            <p>
                Вы можете записать чаты, из которых необходимо пересылать сообщения в `.env.dist` следующим образом:
            </p>
            <p>
                <code>VK_CHAT_IDS=200000015</code>
            </p>
            <p>
                <code>VK_CHAT_IDS=200000015,200000016</code>
            </p>
            <p>
                <code>VK_CHAT_IDS=200000015, 200000016</code>
            </p>
        </td>
    </tr>
</table>

### 4. Установка зависимостей и запуск:

Установите `uv`:

``` bash
# linux:
curl -LsSf https://astral.sh/uv/install.sh | sh

# windows:
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

Запустите бота:

``` bash
uv run -m sferum_bot
```

## Обращение

Бот написан школьником, который развивается в сфере программирования. Так как мне самому было не удобно использовать сферум, а по мимо него ещё много других площадок, я решил централизировать всё в телеграмме, поэтому на свет появился этот бот.

Если вы хотите использовать бота, но у вас нет сервера или устройства, на котором можно 24/7 запустить программу, можете написать мне в телеграмм, могу захостить на своём сервере за небольшую плату.

Если у вас есть какие-то пожелания или вы нашли проблему, пишите её в issues, так же можете мне написать в телеграмм.

Вы можете поддержать проект любой суммой, я буду очень рад:

Тинькофф *2200701344983280*

Сбер *4817760241976004*

Получатель *Колос М.*

## Лицензия:

MIT

**Открытое програмное обеспечение, черт возьми!**
