# sferum-bot от [@xKARASb](https://github.com/xKARASb)

## Работает на

- [Python 3.13](https://docs.python.org/3.13/)+

## Использованные технологии:

- [Asyncio](https://docs.python.org/3/library/asyncio.html)
- [Aiogram 3.x](https://docs.aiogram.dev/en/latest/)

## Возможности:

- [x] Пересылать текстовые сообщения в telegram.
- [x] Пересылать медиа в telegram (ограничиваясь лимитами telegram).
- [x] Можно получать сообщения из нескольких чатов.
- [x] Отправка пересланных сообщений с медиа.
- [ ] Поддержка каналов.

## Как пользоваться?

### 1. Клонируем репозиторий:

``` sh
git clone https://github.com/xKARASb/SferumBot.git
cd SferumBot
```

### 2. Скопируйте `.env.dist` и переименуйте его в `.env`.

### 3. Заполняем поля в `.env`:

#### `AUTH_COOKIE`

[Инструкция для `Microsoft Edge`](https://github.com/xKARASb/SferumBot/issues/9)

Зайдите в [Sferum](https://web.vk.me/).

Нажмите <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>, после чего откроются параметры для разработчиков.

Перейдите в раздел `Application` (Приложение) >> `Storage` (Хранилище) >> `Cookies` (Файлы cookie) >> `https://web.vk.me`.

Затем введите в поле поиска "remixdsid" и скопируйте его значение (должно начинаться с "vk1.a.").

Заполните поле в `.env.dist`.

#### `BOT_TOKEN`

Перейдите в [@BotFather](https://t.me/BotFather).

Введите команду `/newbot`, а затем укажите название и юзернейм для бота (отдельными сообщениями).

Скопируйте токен и вставьте его в `.env.dist`.

#### `TG_CHAT_ID`

Можно оставить пустым, если не собираетесь использовать бота в группе/канале.

В настройках Telegram включите отображения id: `Настройки` > `Продвинутые настройки` > `Эксперементальные настройки` > `Show Peer IDs in profile`.

Получите id чата и вставьте его в поле.

> **ВАЖНО**
>
> Дайте боту права администратора в группе/канале.

> **ЗАМЕТКА**
>
> Чтобы пересылать сообщения в один из разделов супергруппы вы можете указать его id в `TG_TOPIC_ID`.

#### `VK_CHAT_IDS`

> Если вы хотите получать уведомления из всех чатов, просто оставьте поле пустым.

Получите id чата, открыв его в браузере:

```
https://web.vk.me/convo/{здесь нужный нам id}
```

Вы можете записать чаты, из которых необходимо пересылать сообщения в `.env.dist` следующим образом:

```
VK_CHAT_IDS=200000015
VK_CHAT_IDS=200000015,200000016
VK_CHAT_IDS=200000015, 200000016
```

### 4. Установка зависимостей и запуск:

Установите `uv`:

``` bash
# linux:
curl -LsSf https://astral.sh/uv/install.sh | sh

# windows:
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

Запустите бота:

``` bash
uv run -m sferum_bot
```

## Обращение

Бот написан школьником, который развивается в сфере программирования. Так как мне самому было не удобно использовать сферум, а по мимо него ещё много других площадок, я решил централизировать всё в телеграмме, поэтому на свет появился этот бот.

Если вы хотите использовать бота, но у вас нет сервера или устройства, на котором можно 24/7 запустить программу, можете написать мне в телеграмм, могу захостить на своём сервере за небольшую плату.

Если у вас есть какие-то пожелания или вы нашли проблему, пишите её в issues, так же можете мне написать в телеграмм.

Вы можете поддержать проект любой суммой, я буду очень рад:

Тинькофф *2200701344983280*

Сбер *4817760241976004*

Получатель *Колос М.*

## Лицензия:

MIT

**Открытое програмное обеспечение, черт возьми!**
